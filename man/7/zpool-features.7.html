

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>zpool-features.7 &mdash; OpenZFS  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme_overrides.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/mandoc.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="zpoolconcepts.7" href="zpoolconcepts.7.html" />
    <link rel="prev" title="zfsprops.7" href="zfsprops.7.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #29667e" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/logo_main.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Getting Started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Project and Community/index.html">Project and Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Developer Resources/index.html">Developer Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Performance and Tuning/index.html">Performance and Tuning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Basic Concepts/index.html">Basic Concepts</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Man Pages</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../1/index.html">User Commands (1)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4/index.html">Devices and Special Files (4)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5/index.html">File Formats and Conventions (5)</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Miscellaneous (7)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="zfsconcepts.7.html">zfsconcepts.7</a></li>
<li class="toctree-l3"><a class="reference internal" href="zfsprops.7.html">zfsprops.7</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">zpool-features.7</a></li>
<li class="toctree-l3"><a class="reference internal" href="zpoolconcepts.7.html">zpoolconcepts.7</a></li>
<li class="toctree-l3"><a class="reference internal" href="zpoolprops.7.html">zpoolprops.7</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../8/index.html">System Administration Commands (8)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../msg/index.html">ZFS Messages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../License.html">License</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">OpenZFS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Man Pages</a> &raquo;</li>
        
          <li><a href="index.html">Miscellaneous (7)</a> &raquo;</li>
        
      <li>zpool-features.7</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/openzfs/openzfs-docs/blob/master/docs/man/7/zpool-features.7.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="zpool-features-7">
<h1>zpool-features.7<a class="headerlink" href="#zpool-features-7" title="Permalink to this headline">Â¶</a></h1>
<div class="man_container"><table class="head">
  <tr>
    <td class="head-ltitle">ZPOOL-FEATURES(7)</td>
    <td class="head-vol">Miscellaneous Information Manual</td>
    <td class="head-rtitle">ZPOOL-FEATURES(7)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<code class="Nm" title="Nm">zpool-features</code> &#x2014;
<div class="Nd" title="Nd">description of ZFS pool features</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
ZFS pool on-disk format versions are specified via &quot;features&quot; which
  replace the old on-disk format numbers (the last supported on-disk format
  number is 28). To enable a feature on a pool use the
  <code class="Nm" title="Nm">zpool</code>
  <code class="Cm" title="Cm">upgrade</code>, or set the
  <b class="Sy" title="Sy">feature</b>@<var class="Ar" title="Ar">feature-name</var>
  property to <b class="Sy" title="Sy">enabled</b>. Please also see the
  <a class="Sx" title="Sx" href="#Compatibility_feature_sets">Compatibility
  feature sets</a> section for information on how sets of features may be
  enabled together.
<div class="Pp"></div>
The pool format does not affect file system version compatibility or the ability
  to send file systems between pools.
<div class="Pp"></div>
Since most features can be enabled independently of each other, the on-disk
  format of the pool is specified by the set of all features marked as
  <b class="Sy" title="Sy">active</b> on the pool. If the pool was created by
  another software version this set may include unsupported features.
<h2 class="Ss" title="Ss" id="Identifying_features"><a class="permalink" href="#Identifying_features">Identifying
  features</a></h2>
Every feature has a GUID of the form
  <var class="Ar" title="Ar">com.example</var>:<var class="Ar" title="Ar">feature-name</var>.
  The reversed DNS name ensures that the feature's GUID is unique across all ZFS
  implementations. When unsupported features are encountered on a pool they will
  be identified by their GUIDs. Refer to the documentation for the ZFS
  implementation that created the pool for information about those features.
<div class="Pp"></div>
Each supported feature also has a short name. By convention a feature's short
  name is the portion of its GUID which follows the &#x2018;:&#x2019; (i.e.
  <var class="Ar" title="Ar">com.example</var>:<var class="Ar" title="Ar">feature-name</var>
  would have the short name <var class="Ar" title="Ar">feature-name</var>),
  however a feature's short name may differ across ZFS implementations if
  following the convention would result in name conflicts.
<h2 class="Ss" title="Ss" id="Feature_states"><a class="permalink" href="#Feature_states">Feature
  states</a></h2>
Features can be in one of three states:
<dl class="Bl-tag">
  <dt><b class="Sy" title="Sy">active</b></dt>
  <dd>This feature's on-disk format changes are in effect on the pool. Support
      for this feature is required to import the pool in read-write mode. If
      this feature is not read-only compatible, support is also required to
      import the pool in read-only mode (see
      <a class="Sx" title="Sx" href="#Read_only_compatibility">Read-only
      compatibility</a>).</dd>
  <dt><b class="Sy" title="Sy">enabled</b></dt>
  <dd>An administrator has marked this feature as enabled on the pool, but the
      feature's on-disk format changes have not been made yet. The pool can
      still be imported by software that does not support this feature, but
      changes may be made to the on-disk format at any time which will move the
      feature to the <b class="Sy" title="Sy">active</b> state. Some features
      may support returning to the <b class="Sy" title="Sy">enabled</b> state
      after becoming <b class="Sy" title="Sy">active</b>. See feature-specific
      documentation for details.</dd>
  <dt><b class="Sy" title="Sy">disabled</b></dt>
  <dd>This feature's on-disk format changes have not been made and will not be
      made unless an administrator moves the feature to the
      <b class="Sy" title="Sy">enabled</b> state. Features cannot be disabled
      once they have been enabled.</dd>
</dl>
<div class="Pp"></div>
The state of supported features is exposed through pool properties of the form
  <b class="Sy" title="Sy">feature</b>@<var class="Ar" title="Ar">short-name</var>.
<h2 class="Ss" title="Ss" id="Read_only_compatibility"><a class="permalink" href="#Read_only_compatibility">Read-only
  compatibility</a></h2>
Some features may make on-disk format changes that do not interfere with other
  software's ability to read from the pool. These features are referred to as
  &#x201C;read-only compatible&#x201D;. If all unsupported features on a pool
  are read-only compatible, the pool can be imported in read-only mode by
  setting the <b class="Sy" title="Sy">readonly</b> property during import (see
  <a href="../8/zpool-import.8.html" class="Xr">zpool-import(8)</a> for details on importing pools).
<h2 class="Ss" title="Ss" id="Unsupported_features"><a class="permalink" href="#Unsupported_features">Unsupported
  features</a></h2>
For each unsupported feature enabled on an imported pool, a pool property named
  <b class="Sy" title="Sy">unsupported</b>@<var class="Ar" title="Ar">feature-name</var>
  will indicate why the import was allowed despite the unsupported feature.
  Possible values for this property are:
<dl class="Bl-tag">
  <dt><b class="Sy" title="Sy">inactive</b></dt>
  <dd>The feature is in the <b class="Sy" title="Sy">enabled</b> state and
      therefore the pool's on-disk format is still compatible with software that
      does not support this feature.</dd>
  <dt><b class="Sy" title="Sy">readonly</b></dt>
  <dd>The feature is read-only compatible and the pool has been imported in
      read-only mode.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Feature_dependencies"><a class="permalink" href="#Feature_dependencies">Feature
  dependencies</a></h2>
Some features depend on other features being enabled in order to function.
  Enabling a feature will automatically enable any features it depends on.
<h2 class="Ss" title="Ss" id="Compatibility_feature_sets"><a class="permalink" href="#Compatibility_feature_sets">Compatibility
  feature sets</a></h2>
It is sometimes necessary for a pool to maintain compatibility with a specific
  on-disk format, by enabling and disabling particular features. The
  <b class="Sy" title="Sy">compatibility</b> feature facilitates this by
  allowing feature sets to be read from text files. When set to
  <b class="Sy" title="Sy">off</b> (the default), compatibility feature sets are
  disabled (i.e. all features are enabled); when set to
  <b class="Sy" title="Sy">legacy</b>, no features are enabled. When set to a
  comma-separated list of filenames (each filename may either be an absolute
  path, or relative to
  <span class="Pa" title="Pa">/etc/zfs/compatibility.d</span> or
  <span class="Pa" title="Pa">/usr/share/zfs/compatibility.d</span>), the lists
  of requested features are read from those files, separated by whitespace
  and/or commas. Only features present in all files are enabled.
<div class="Pp"></div>
Simple sanity checks are applied to the files: they must be between 1B and 16kB
  in size, and must end with a newline character.
<div class="Pp"></div>
The requested features are applied when a pool is created using
  <code class="Nm" title="Nm">zpool</code>
  <code class="Cm" title="Cm">create</code>
  <code class="Fl" title="Fl">-o</code>
  <b class="Sy" title="Sy">compatibility</b>=<var class="Ar" title="Ar">&#x2026;</var>
  and controls which features are enabled when using
  <code class="Nm" title="Nm">zpool</code>
  <code class="Cm" title="Cm">upgrade</code>.
  <code class="Nm" title="Nm">zpool</code>
  <code class="Cm" title="Cm">status</code> will not show a warning about
  disabled features which are not part of the requested feature set.
<div class="Pp"></div>
The special value <b class="Sy" title="Sy">legacy</b> prevents any features from
  being enabled, either via <code class="Nm" title="Nm">zpool</code>
  <code class="Cm" title="Cm">upgrade</code> or
  <code class="Nm" title="Nm">zpool</code>
  <code class="Cm" title="Cm">set</code>
  <b class="Sy" title="Sy">feature</b>@<var class="Ar" title="Ar">feature-name</var>=<b class="Sy" title="Sy">enabled</b>.
  This setting also prevents pools from being upgraded to newer on-disk
  versions. This is a safety measure to prevent new features from being
  accidentally enabled, breaking compatibility.
<div class="Pp"></div>
By convention, compatibility files in
  <span class="Pa" title="Pa">/usr/share/zfs/compatibility.d</span> are provided
  by the distribution, and include feature sets supported by important versions
  of popular distributions, and feature sets commonly supported at the start of
  each year. Compatibility files in
  <span class="Pa" title="Pa">/etc/zfs/compatibility.d</span>, if present, will
  take precedence over files with the same name in
  <span class="Pa" title="Pa">/usr/share/zfs/compatibility.d</span>.
<div class="Pp"></div>
If an unrecognized feature is found in these files, an error message will be
  shown. If the unrecognized feature is in a file in
  <span class="Pa" title="Pa">/etc/zfs/compatibility.d</span>, this is treated
  as an error and processing will stop. If the unrecognized feature is under
  <span class="Pa" title="Pa">/usr/share/zfs/compatibility.d</span>, this is
  treated as a warning and processing will continue. This difference is to allow
  distributions to include features which might not be recognized by the
  currently-installed binaries.
<div class="Pp"></div>
Compatibility files may include comments: any text from &#x2018;#&#x2019; to the
  end of the line is ignored.
<div class="Pp"></div>
<b class="Sy" title="Sy">Example</b>:
<div class="Bd Bd-indent">
<pre class="Li">
<span class="No">example#</span> <code class="Nm" title="Nm">cat</code> <span class="Pa" title="Pa">/usr/share/zfs/compatibility.d/grub2</span> 
# Features which are supported by GRUB2 
async_destroy 
bookmarks 
embedded_data 
empty_bpobj 
enabled_txg 
extensible_dataset 
filesystem_limits 
hole_birth 
large_blocks 
lz4_compress 
spacemap_histogram 
 
<span class="No">example#</span> <code class="Nm" title="Nm">zpool</code> <code class="Cm" title="Cm">create</code> <code class="Fl" title="Fl">-o</code> <b class="Sy" title="Sy">compatibility</b>=<var class="Ar" title="Ar">grub2</var> <var class="Ar" title="Ar">bootpool</var> <var class="Ar" title="Ar">vdev</var>
</pre>
</div>
<div class="Pp"></div>
See <a href="../8/zpool-create.8.html" class="Xr">zpool-create(8)</a> and
  <a href="../8/zpool-upgrade.8.html" class="Xr">zpool-upgrade(8)</a> for more information on how
  these commands are affected by feature sets.
<h1 class="Sh" title="Sh" id="FEATURES"><a class="permalink" href="#FEATURES">FEATURES</a></h1>
The following features are supported on this system:
<dl class="Bl-tag">
  <dt><b class="Sy" title="Sy">allocation_classes</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">org.zfsonlinux:allocation_classes</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>yes</dd>
    </dl>
    <div class="Pp"></div>
    This feature enables support for separate allocation classes.
    <div class="Pp"></div>
    This feature becomes <b class="Sy" title="Sy">active</b> when a dedicated
      allocation class vdev (dedup or special) is created with the
      <code class="Nm" title="Nm">zpool</code>
      <code class="Cm" title="Cm">create</code> <span class="No">or</span>
      <code class="Nm" title="Nm">zpool</code>
      <code class="Cm" title="Cm">add</code> <span class="No">commands</span>.
      With device removal, it can be returned to the
      <b class="Sy" title="Sy">enabled</b> state if all the dedicated allocation
      class vdevs are removed.</dd>
  <dt><b class="Sy" title="Sy">async_destroy</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">com.delphix:async_destroy</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>yes</dd>
    </dl>
    <div class="Pp"></div>
    Destroying a file system requires traversing all of its data in order to
      return its used space to the pool. Without
      <b class="Sy" title="Sy">async_destroy</b>, the file system is not fully
      removed until all space has been reclaimed. If the destroy operation is
      interrupted by a reboot or power outage, the next attempt to open the pool
      will need to complete the destroy operation synchronously.
    <div class="Pp"></div>
    When <b class="Sy" title="Sy">async_destroy</b> is enabled, the file
      system's data will be reclaimed by a background process, allowing the
      destroy operation to complete without traversing the entire file system.
      The background process is able to resume interrupted destroys after the
      pool has been opened, eliminating the need to finish interrupted destroys
      as part of the open operation. The amount of space remaining to be
      reclaimed by the background process is available through the
      <b class="Sy" title="Sy">freeing</b> property.
    <div class="Pp"></div>
    This feature is only <b class="Sy" title="Sy">active</b> while
      <b class="Sy" title="Sy">freeing</b> is non-zero.</dd>
  <dt><b class="Sy" title="Sy">bookmarks</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">com.delphix:bookmarks</b></dd>
      <dt>DEPENDENCIES</dt>
      <dd><b>extensible_dataset</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>yes</dd>
    </dl>
    <div class="Pp"></div>
    This feature enables use of the <code class="Nm" title="Nm">zfs</code>
      <code class="Cm" title="Cm">bookmark</code> command.
    <div class="Pp"></div>
    This feature is <b class="Sy" title="Sy">active</b> while any bookmarks
      exist in the pool. All bookmarks in the pool can be listed by running
      <code class="Nm" title="Nm">zfs</code>
      <code class="Cm" title="Cm">list</code>
      <code class="Fl" title="Fl">-t</code>
      <b class="Sy" title="Sy">bookmark</b>
      <code class="Fl" title="Fl">-r</code>
      <var class="Ar" title="Ar">poolname</var>.</dd>
  <dt><b class="Sy" title="Sy">bookmark_v2</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">com.datto:bookmark_v2</b></dd>
      <dt>DEPENDENCIES</dt>
      <dd><b>bookmark</b>, <b>extensible_dataset</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>no</dd>
    </dl>
    <div class="Pp"></div>
    This feature enables the creation and management of larger bookmarks which
      are needed for other features in ZFS.
    <div class="Pp"></div>
    This feature becomes <b class="Sy" title="Sy">active</b> when a v2 bookmark
      is created and will be returned to the
      <b class="Sy" title="Sy">enabled</b> state when all v2 bookmarks are
      destroyed.</dd>
  <dt><b class="Sy" title="Sy">bookmark_written</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">com.delphix:bookmark_written</b></dd>
      <dt>DEPENDENCIES</dt>
      <dd><b>bookmark</b>, <b>extensible_dataset</b>, <b>bookmark_v2</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>no</dd>
    </dl>
    <div class="Pp"></div>
    This feature enables additional bookmark accounting fields, enabling the
      <b class="Sy" title="Sy">written</b>#<var class="Ar" title="Ar">bookmark</var>
      property (space written since a bookmark) and estimates of send stream
      sizes for incrementals from bookmarks.
    <div class="Pp"></div>
    This feature becomes <b class="Sy" title="Sy">active</b> when a bookmark is
      created and will be returned to the <b class="Sy" title="Sy">enabled</b>
      state when all bookmarks with these fields are destroyed.</dd>
  <dt><b class="Sy" title="Sy">device_rebuild</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">org.openzfs:device_rebuild</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>yes</dd>
    </dl>
    <div class="Pp"></div>
    This feature enables the ability for the
      <code class="Nm" title="Nm">zpool</code>
      <code class="Cm" title="Cm">attach</code> and
      <code class="Nm" title="Nm">zpool</code>
      <code class="Cm" title="Cm">replace</code> commands to perform sequential
      reconstruction (instead of healing reconstruction) when resilvering.
    <div class="Pp"></div>
    Sequential reconstruction resilvers a device in LBA order without
      immediately verifying the checksums. Once complete, a scrub is started,
      which then verifies the checksums. This approach allows full redundancy to
      be restored to the pool in the minimum amount of time. This two-phase
      approach will take longer than a healing resilver when the time to verify
      the checksums is included. However, unless there is additional pool
      damage, no checksum errors should be reported by the scrub. This feature
      is incompatible with raidz configurations. This feature becomes
      <b class="Sy" title="Sy">active</b> while a sequential resilver is in
      progress, and returns to <b class="Sy" title="Sy">enabled</b> when the
      resilver completes.</dd>
  <dt><b class="Sy" title="Sy">device_removal</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">com.delphix:device_removal</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>no</dd>
    </dl>
    <div class="Pp"></div>
    This feature enables the <code class="Nm" title="Nm">zpool</code>
      <code class="Cm" title="Cm">remove</code> command to remove top-level
      vdevs, evacuating them to reduce the total size of the pool.
    <div class="Pp"></div>
    This feature becomes <b class="Sy" title="Sy">active</b> when the
      <code class="Nm" title="Nm">zpool</code>
      <code class="Cm" title="Cm">remove</code> command is used on a top-level
      vdev, and will never return to being
    <b class="Sy" title="Sy">enabled</b>.</dd>
  <dt><b class="Sy" title="Sy">draid</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">org.openzfs:draid</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>no</dd>
    </dl>
    <div class="Pp"></div>
    This feature enables use of the <b class="Sy" title="Sy">draid</b> vdev
      type. dRAID is a variant of raidz which provides integrated distributed
      hot spares that allow faster resilvering while retaining the benefits of
      raidz. Data, parity, and spare space are organized in redundancy groups
      and distributed evenly over all of the devices.
    <div class="Pp"></div>
    This feature becomes <b class="Sy" title="Sy">active</b> when creating a
      pool which uses the <b class="Sy" title="Sy">draid</b> vdev type, or when
      adding a new <b class="Sy" title="Sy">draid</b> vdev to an existing
    pool.</dd>
  <dt><b class="Sy" title="Sy">edonr</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">org.illumos:edonr</b></dd>
      <dt>DEPENDENCIES</dt>
      <dd><b>extensible_dataset</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>no</dd>
    </dl>
    <div class="Pp"></div>
    This feature enables the use of the Edon-R hash algorithm for checksum,
      including for nopwrite (if compression is also enabled, an overwrite of a
      block whose checksum matches the data being written will be ignored). In
      an abundance of caution, Edon-R requires verification when used with
      dedup: <code class="Nm" title="Nm">zfs</code>
      <code class="Cm" title="Cm">set</code>
      <b class="Sy" title="Sy">dedup</b>=<b class="Sy" title="Sy">edonr</b>,<b class="Sy" title="Sy">verify</b>
      (see <a href="../8/zfs-set.8.html" class="Xr">zfs-set(8)</a>).
    <div class="Pp"></div>
    Edon-R is a very high-performance hash algorithm that was part of the NIST
      SHA-3 competition. It provides extremely high hash performance (over 350%
      faster than SHA-256), but was not selected because of its unsuitability as
      a general purpose secure hash algorithm. This implementation utilizes the
      new salted checksumming functionality in ZFS, which means that the
      checksum is pre-seeded with a secret 256-bit random key (stored on the
      pool) before being fed the data block to be checksummed. Thus the produced
      checksums are unique to a given pool, preventing hash collision attacks on
      systems with dedup.
    <div class="Pp"></div>
    When the <b class="Sy" title="Sy">edonr</b> feature is set to
      <b class="Sy" title="Sy">enabled</b>, the administrator can turn on the
      <b class="Sy" title="Sy">edonr</b> checksum on any dataset using
      <code class="Nm" title="Nm">zfs</code>
      <code class="Cm" title="Cm">set</code>
      <b class="Sy" title="Sy">checksum</b>=<b class="Sy" title="Sy">edonr</b>
      <var class="Ar" title="Ar">dset</var> (see
      <a href="../8/zfs-set.8.html" class="Xr">zfs-set(8)</a>). This feature becomes
      <b class="Sy" title="Sy">active</b> once a
      <b class="Sy" title="Sy">checksum</b> property has been set to
      <b class="Sy" title="Sy">edonr</b>, and will return to being
      <b class="Sy" title="Sy">enabled</b> once all filesystems that have ever
      had their checksum set to <b class="Sy" title="Sy">edonr</b> are
      destroyed.
    <div class="Pp"></div>
    <span class="Ux">FreeBSD does</span> not support the
      <b class="Sy" title="Sy">edonr</b> <span class="No">feature.</span></dd>
  <dt><b class="Sy" title="Sy">embedded_data</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">com.delphix:embedded_data</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>no</dd>
    </dl>
    <div class="Pp"></div>
    This feature improves the performance and compression ratio of
      highly-compressible blocks. Blocks whose contents can compress to 112
      bytes or smaller can take advantage of this feature.
    <div class="Pp"></div>
    When this feature is enabled, the contents of highly-compressible blocks are
      stored in the block &quot;pointer&quot; itself (a misnomer in this case,
      as it contains the compressed data, rather than a pointer to its location
      on disk). Thus the space of the block (one sector, typically 512B or 4kB)
      is saved, and no additional I/O is needed to read and write the data
      block. <span class="No">This feature becomes</span>
      <b class="Sy" title="Sy">active</b> <span class="No">as soon as it is
      enabled and will never return to being</span>
      <b class="Sy" title="Sy">enabled</b>.</dd>
  <dt><b class="Sy" title="Sy">empty_bpobj</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">com.delphix:empty_bpobj</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>yes</dd>
    </dl>
    <div class="Pp"></div>
    This feature increases the performance of creating and using a large number
      of snapshots of a single filesystem or volume, and also reduces the disk
      space required.
    <div class="Pp"></div>
    When there are many snapshots, each snapshot uses many Block Pointer Objects
      (bpobjs) to track blocks associated with that snapshot. However, in common
      use cases, most of these bpobjs are empty. This feature allows us to
      create each bpobj on-demand, thus eliminating the empty bpobjs.
    <div class="Pp"></div>
    This feature is <b class="Sy" title="Sy">active</b> while there are any
      filesystems, volumes, or snapshots which were created after enabling this
      feature.</dd>
  <dt><b class="Sy" title="Sy">enabled_txg</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">com.delphix:enabled_txg</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>yes</dd>
    </dl>
    <div class="Pp"></div>
    Once this feature is enabled, ZFS records the transaction group number in
      which new features are enabled. This has no user-visible impact, but other
      features may depend on this feature.
    <div class="Pp"></div>
    This feature becomes <b class="Sy" title="Sy">active</b>
    <br/>
     as soon as it is enabled and will never return to being
      <b class="Sy" title="Sy">enabled</b>.</dd>
  <dt><b class="Sy" title="Sy">encryption</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">com.datto:encryption</b></dd>
      <dt>DEPENDENCIES</dt>
      <dd><b>bookmark_v2</b>, <b>extensible_dataset</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>no</dd>
    </dl>
    <div class="Pp"></div>
    This feature enables the creation and management of natively encrypted
      datasets.
    <div class="Pp"></div>
    This feature becomes <b class="Sy" title="Sy">active</b> when an encrypted
      dataset is created and will be returned to the
      <b class="Sy" title="Sy">enabled</b> state when all datasets that use this
      feature are destroyed.</dd>
  <dt><b class="Sy" title="Sy">extensible_dataset</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">com.delphix:extensible_dataset</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>no</dd>
    </dl>
    <div class="Pp"></div>
    This feature allows more flexible use of internal ZFS data structures, and
      exists for other features to depend on.
    <div class="Pp"></div>
    This feature will be <b class="Sy" title="Sy">active</b> when the first
      dependent feature uses it, and will be returned to the
      <b class="Sy" title="Sy">enabled</b> state when all datasets that use this
      feature are destroyed.</dd>
  <dt><b class="Sy" title="Sy">filesystem_limits</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">com.joyent:filesystem_limits</b></dd>
      <dt>DEPENDENCIES</dt>
      <dd><b>extensible_dataset</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>yes</dd>
    </dl>
    <div class="Pp"></div>
    This feature enables filesystem and snapshot limits. These limits can be
      used to control how many filesystems and/or snapshots can be created at
      the point in the tree on which the limits are set.
    <div class="Pp"></div>
    This feature is <b class="Sy" title="Sy">active</b> once either of the limit
      properties has been set on a dataset. Once activated the feature is never
      deactivated.</dd>
  <dt><b class="Sy" title="Sy">hole_birth</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">com.delphix:hole_birth</b></dd>
      <dt>DEPENDENCIES</dt>
      <dd><b>enabled_txg</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>no</dd>
    </dl>
    <div class="Pp"></div>
    This feature has/had bugs, the result of which is that, if you do a
      <code class="Nm" title="Nm">zfs</code>
      <code class="Cm" title="Cm">send</code>
      <code class="Fl" title="Fl">-i</code> (or
      <code class="Fl" title="Fl">-R</code>, <span class="No">since it
      uses</span> <code class="Fl" title="Fl">-i</code>) from an affected
      dataset, the receiving party will not see any checksum or other errors,
      but the resulting destination snapshot will not match the source. Its use
      by <code class="Nm" title="Nm">zfs</code>
      <code class="Cm" title="Cm">send</code>
      <code class="Fl" title="Fl">-i</code> has been disabled by default (see
      <b class="Sy" title="Sy">send_holes_without_birth_time</b>
      <span class="No">in</span> <a href="../4/zfs.4.html" class="Xr">zfs(4)</a>).
    <div class="Pp"></div>
    This feature improves performance of incremental sends
      (<code class="Nm" title="Nm">zfs</code>
      <code class="Cm" title="Cm">send</code>
      <code class="Fl" title="Fl">-i</code>) and receives for objects with many
      holes. The most common case of hole-filled objects is zvols.
    <div class="Pp"></div>
    An incremental send stream from snapshot <b class="Sy" title="Sy">A</b>
      <span class="No">to snapshot</span> <b class="Sy" title="Sy">B</b>
      contains information about every block that changed between
      <b class="Sy" title="Sy">A</b> <span class="No">and</span>
      <b class="Sy" title="Sy">B</b>. Blocks which did not change between those
      snapshots can be identified and omitted from the stream using a piece of
      metadata called the &quot;block birth time&quot;, but birth times are not
      recorded for holes (blocks filled only with zeroes). Since holes created
      after <b class="Sy" title="Sy">A</b> <span class="No">cannot be
      distinguished from holes created before</span>
      <b class="Sy" title="Sy">A</b>, information about every hole in the entire
      filesystem or zvol is included in the send stream.
    <div class="Pp"></div>
    For workloads where holes are rare this is not a problem. However, when
      incrementally replicating filesystems or zvols with many holes (for
      example a zvol formatted with another filesystem) a lot of time will be
      spent sending and receiving unnecessary information about holes that
      already exist on the receiving side.
    <div class="Pp"></div>
    Once the <b class="Sy" title="Sy">hole_birth</b> feature has been enabled
      the block birth times of all new holes will be recorded. Incremental sends
      between snapshots created after this feature is enabled will use this new
      metadata to avoid sending information about holes that already exist on
      the receiving side.
    <div class="Pp"></div>
    <span class="No">This feature becomes</span>
      <b class="Sy" title="Sy">active</b> <span class="No">as soon as it is
      enabled and will never return to being</span>
      <b class="Sy" title="Sy">enabled</b>.</dd>
  <dt><b class="Sy" title="Sy">large_blocks</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">org.open-zfs:large_blocks</b></dd>
      <dt>DEPENDENCIES</dt>
      <dd><b>extensible_dataset</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>no</dd>
    </dl>
    <div class="Pp"></div>
    This feature allows the record size on a dataset to be set larger than
      128kB.
    <div class="Pp"></div>
    This feature becomes <b class="Sy" title="Sy">active</b> once a dataset
      contains a file with a block size larger than 128kB, and will return to
      being <b class="Sy" title="Sy">enabled</b> once all filesystems that have
      ever had their recordsize larger than 128kB are destroyed.</dd>
  <dt><b class="Sy" title="Sy">large_dnode</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">org.zfsonlinux:large_dnode</b></dd>
      <dt>DEPENDENCIES</dt>
      <dd><b>extensible_dataset</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>no</dd>
    </dl>
    <div class="Pp"></div>
    This feature allows the size of dnodes in a dataset to be set larger than
      512B. This feature becomes <b class="Sy" title="Sy">active</b> once a
      dataset contains an object with a dnode larger than 512B, which occurs as
      a result of setting the <b class="Sy" title="Sy">dnodesize</b> dataset
      property to a value other than <b class="Sy" title="Sy">legacy</b>. The
      feature will return to being <b class="Sy" title="Sy">enabled</b> once all
      filesystems that have ever contained a dnode larger than 512B are
      destroyed. Large dnodes allow more data to be stored in the bonus buffer,
      thus potentially improving performance by avoiding the use of spill
      blocks.</dd>
  <dt><b class="Sy" title="Sy">livelist</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">com.delphix:livelist</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>yes</dd>
    </dl>
    <div class="Pp"></div>
    This feature allows clones to be deleted faster than the traditional method
      when a large number of random/sparse writes have been made to the clone.
      All blocks allocated and freed after a clone is created are tracked by the
      the clone's livelist which is referenced during the deletion of the clone.
      The feature is activated when a clone is created and remains
      <b class="Sy" title="Sy">active</b> until all clones have been
    destroyed.</dd>
  <dt><b class="Sy" title="Sy">log_spacemap</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">com.delphix:log_spacemap</b></dd>
      <dt>DEPENDENCIES</dt>
      <dd><b>com.delphix:spacemap_v2</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>yes</dd>
    </dl>
    <div class="Pp"></div>
    This feature improves performance for heavily-fragmented pools, especially
      when workloads are heavy in random-writes. It does so by logging all the
      metaslab changes on a single spacemap every TXG instead of scattering
      multiple writes to all the metaslab spacemaps.
    <div class="Pp"></div>
    <span class="No">This feature becomes</span>
      <b class="Sy" title="Sy">active</b> <span class="No">as soon as it is
      enabled and will never return to being</span>
      <b class="Sy" title="Sy">enabled</b>.</dd>
  <dt><b class="Sy" title="Sy">lz4_compress</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">org.illumos:lz4_compress</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>no</dd>
    </dl>
    <div class="Pp"></div>
    <b class="Sy" title="Sy">lz4</b> is a high-performance real-time compression
      algorithm that features significantly faster compression and decompression
      as well as a higher compression ratio than the older
      <b class="Sy" title="Sy">lzjb</b> compression. Typically,
      <b class="Sy" title="Sy">lz4</b> compression is approximately 50% faster
      on compressible data and 200% faster on incompressible data than
      <b class="Sy" title="Sy">lzjb</b>. It is also approximately 80% faster on
      decompression, while giving approximately a 10% better compression ratio.
    <div class="Pp"></div>
    When the <b class="Sy" title="Sy">lz4_compress</b> feature is set to
      <b class="Sy" title="Sy">enabled</b>, the administrator can turn on
      <b class="Sy" title="Sy">lz4</b> compression on any dataset on the pool
      using the <a href="../8/zfs-set.8.html" class="Xr">zfs-set(8)</a> command. All newly
      written metadata will be compressed with the
      <b class="Sy" title="Sy">lz4</b> algorithm.
    <div class="Pp"></div>
    <span class="No">This feature becomes</span>
      <b class="Sy" title="Sy">active</b> <span class="No">as soon as it is
      enabled and will never return to being</span>
      <b class="Sy" title="Sy">enabled</b>.</dd>
  <dt><b class="Sy" title="Sy">multi_vdev_crash_dump</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">com.joyent:multi_vdev_crash_dump</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>no</dd>
    </dl>
    <div class="Pp"></div>
    This feature allows a dump device to be configured with a pool comprised of
      multiple vdevs. Those vdevs may be arranged in any mirrored or raidz
      configuration.
    <div class="Pp"></div>
    When the <b class="Sy" title="Sy">multi_vdev_crash_dump</b> feature is set
      to <b class="Sy" title="Sy">enabled</b>, the administrator can use
      <a class="Xr" title="Xr">dumpadm(1M)</a> to configure a dump device on a
      pool comprised of multiple vdevs.
    <div class="Pp"></div>
    Under <span class="Ux">FreeBSD</span> and Linux this feature is unused, but
      registered for compatibility. New pools created on these systems will have
      the feature <b class="Sy" title="Sy">enabled</b> but will never transition
      to <b class="Sy" title="Sy">active</b>, as this functionality is not
      required for crash dump support. Existing pools where this feature is
      <b class="Sy" title="Sy">active</b> can be imported.</dd>
  <dt><b class="Sy" title="Sy">obsolete_counts</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">com.delphix:obsolete_counts</b></dd>
      <dt>DEPENDENCIES</dt>
      <dd><b>device_removal</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>yes</dd>
    </dl>
    <div class="Pp"></div>
    This feature is an enhancement of
      <b class="Sy" title="Sy">device_removal</b>, which will over time reduce
      the memory used to track removed devices. When indirect blocks are freed
      or remapped, we note that their part of the indirect mapping is
      &quot;obsolete&quot; &#x2013; no longer needed.
    <div class="Pp"></div>
    This feature becomes <b class="Sy" title="Sy">active</b> when the
      <code class="Nm" title="Nm">zpool</code>
      <code class="Cm" title="Cm">remove</code> command is used on a top-level
      vdev, and will never return to being
    <b class="Sy" title="Sy">enabled</b>.</dd>
  <dt><b class="Sy" title="Sy">project_quota</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">org.zfsonlinux:project_quota</b></dd>
      <dt>DEPENDENCIES</dt>
      <dd><b>extensible_dataset</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>yes</dd>
    </dl>
    <div class="Pp"></div>
    This feature allows administrators to account the spaces and objects usage
      information against the project identifier (ID).
    <div class="Pp"></div>
    The project ID is an object-based attribute. When upgrading an existing
      filesystem, objects without a project ID will be assigned a zero project
      ID. When this feature is enabled, newly created objects inherit their
      parent directories' project ID if the parent's inherit flag is set (via
      <code class="Nm" title="Nm">chattr</code>
      <b class="Sy" title="Sy">[+-]P</b> <span class="No">or</span>
      <code class="Nm" title="Nm">zfs</code>
      <code class="Cm" title="Cm">project</code>
      <code class="Fl" title="Fl">-s</code>|<code class="Fl" title="Fl">-C</code>).
      Otherwise, the new object's project ID will be zero. An object's project
      ID can be changed at any time by the owner (or privileged user) via
      <code class="Nm" title="Nm">chattr</code>
      <code class="Fl" title="Fl">-p</code>
      <var class="Ar" title="Ar">prjid</var> or
      <code class="Nm" title="Nm">zfs</code>
      <code class="Cm" title="Cm">project</code>
      <code class="Fl" title="Fl">-p</code>
      <var class="Ar" title="Ar">prjid</var>.
    <div class="Pp"></div>
    This feature will become <b class="Sy" title="Sy">active</b> as soon as it
      is enabled and will never return to being
      <b class="Sy" title="Sy">disabled</b>. <span class="No">Each filesystem
      will be upgraded automatically when remounted, or when a new file is
      created under that filesystem. The upgrade can also be triggered on
      filesystems via</span> <code class="Nm" title="Nm">zfs</code>
      <code class="Cm" title="Cm">set</code>
      <b class="Sy" title="Sy">version</b>=<b class="Sy" title="Sy">current</b>
      <var class="Ar" title="Ar">fs</var>. <span class="No">The upgrade process
      runs in the background and may take a while to complete for filesystems
      containing large amounts of files.</span></dd>
  <dt><b class="Sy" title="Sy">redaction_bookmarks</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">com.delphix:redaction_bookmarks</b></dd>
      <dt>DEPENDENCIES</dt>
      <dd><b>bookmarks</b>, <b>extensible_dataset</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>no</dd>
    </dl>
    <div class="Pp"></div>
    This feature enables the use of redacted
      <code class="Nm" title="Nm">zfs</code>
      <code class="Cm" title="Cm">send</code>s, which create redaction bookmarks
      storing the list of blocks redacted by the send that created them. For
      more information about redacted sends, see
      <a href="../8/zfs-send.8.html" class="Xr">zfs-send(8)</a>.</dd>
  <dt><b class="Sy" title="Sy">redacted_datasets</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">com.delphix:redacted_datasets</b></dd>
      <dt>DEPENDENCIES</dt>
      <dd><b>extensible_dataset</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>no</dd>
    </dl>
    <div class="Pp"></div>
    This feature enables the receiving of redacted
      <code class="Nm" title="Nm">zfs</code>
      <code class="Cm" title="Cm">send</code>streams. which create redacted
      datasets when received. These datasets are missing some of their blocks,
      and so cannot be safely mounted, and their contents cannot be safely read.
      For more information about redacted receives, see
      <a href="../8/zfs-send.8.html" class="Xr">zfs-send(8)</a>.</dd>
  <dt><b class="Sy" title="Sy">resilver_defer</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">com.datto:resilver_defer</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>yes</dd>
    </dl>
    <div class="Pp"></div>
    This feature allows ZFS to postpone new resilvers if an existing one is
      already in progress. Without this feature, any new resilvers will cause
      the currently running one to be immediately restarted from the beginning.
    <div class="Pp"></div>
    This feature becomes <b class="Sy" title="Sy">active</b> once a resilver has
      been deferred, and returns to being <b class="Sy" title="Sy">enabled</b>
      when the deferred resilver begins.</dd>
  <dt><b class="Sy" title="Sy">sha512</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">org.illumos:sha512</b></dd>
      <dt>DEPENDENCIES</dt>
      <dd><b>extensible_dataset</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>no</dd>
    </dl>
    <div class="Pp"></div>
    This feature enables the use of the SHA-512/256 truncated hash algorithm
      (FIPS 180-4) for checksum and dedup. The native 64-bit arithmetic of
      SHA-512 provides an approximate 50% performance boost over SHA-256 on
      64-bit hardware and is thus a good minimum-change replacement candidate
      for systems where hash performance is important, but these systems cannot
      for whatever reason utilize the faster <b class="Sy" title="Sy">skein</b>
      <span class="No">and</span> <b class="Sy" title="Sy">edonr</b> algorithms.
    <div class="Pp"></div>
    When the <b class="Sy" title="Sy">sha512</b> feature is set to
      <b class="Sy" title="Sy">enabled</b>, the administrator can turn on the
      <b class="Sy" title="Sy">sha512</b> checksum on any dataset using
      <code class="Nm" title="Nm">zfs</code>
      <code class="Cm" title="Cm">set</code>
      <b class="Sy" title="Sy">checksum</b>=<b class="Sy" title="Sy">sha512</b>
      <var class="Ar" title="Ar">dset</var> (see
      <a href="../8/zfs-set.8.html" class="Xr">zfs-set(8)</a>). This feature becomes
      <b class="Sy" title="Sy">active</b> once a
      <b class="Sy" title="Sy">checksum</b> property has been set to
      <b class="Sy" title="Sy">sha512</b>, and will return to being
      <b class="Sy" title="Sy">enabled</b> once all filesystems that have ever
      had their checksum set to <b class="Sy" title="Sy">sha512</b> are
      destroyed.</dd>
  <dt><b class="Sy" title="Sy">skein</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">org.illumos:skein</b></dd>
      <dt>DEPENDENCIES</dt>
      <dd><b>extensible_dataset</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>no</dd>
    </dl>
    <div class="Pp"></div>
    This feature enables the use of the Skein hash algorithm for checksum and
      dedup. Skein is a high-performance secure hash algorithm that was a
      finalist in the NIST SHA-3 competition. It provides a very high security
      margin and high performance on 64-bit hardware (80% faster than SHA-256).
      This implementation also utilizes the new salted checksumming
      functionality in ZFS, which means that the checksum is pre-seeded with a
      secret 256-bit random key (stored on the pool) before being fed the data
      block to be checksummed. Thus the produced checksums are unique to a given
      pool, preventing hash collision attacks on systems with dedup.
    <div class="Pp"></div>
    When the <b class="Sy" title="Sy">skein</b> feature is set to
      <b class="Sy" title="Sy">enabled</b>, the administrator can turn on the
      <b class="Sy" title="Sy">skein</b> checksum on any dataset using
      <code class="Nm" title="Nm">zfs</code>
      <code class="Cm" title="Cm">set</code>
      <b class="Sy" title="Sy">checksum</b>=<b class="Sy" title="Sy">skein</b>
      <var class="Ar" title="Ar">dset</var> (see
      <a href="../8/zfs-set.8.html" class="Xr">zfs-set(8)</a>). This feature becomes
      <b class="Sy" title="Sy">active</b> once a
      <b class="Sy" title="Sy">checksum</b> property has been set to
      <b class="Sy" title="Sy">skein</b>, and will return to being
      <b class="Sy" title="Sy">enabled</b> once all filesystems that have ever
      had their checksum set to <b class="Sy" title="Sy">skein</b> are
      destroyed.</dd>
  <dt><b class="Sy" title="Sy">spacemap_histogram</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">com.delphix:spacemap_histogram</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>yes</dd>
    </dl>
    <div class="Pp"></div>
    This features allows ZFS to maintain more information about how free space
      is organized within the pool. If this feature is
      <b class="Sy" title="Sy">enabled</b>, it will be activated when a new
      space map object is created, or an existing space map is upgraded to the
      new format, and never returns back to being
      <b class="Sy" title="Sy">enabled</b>.</dd>
  <dt><b class="Sy" title="Sy">spacemap_v2</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">com.delphix:spacemap_v2</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>yes</dd>
    </dl>
    <div class="Pp"></div>
    This feature enables the use of the new space map encoding which consists of
      two words (instead of one) whenever it is advantageous. The new encoding
      allows space maps to represent large regions of space more efficiently
      on-disk while also increasing their maximum addressable offset.
    <div class="Pp"></div>
    This feature becomes <b class="Sy" title="Sy">active</b> once it is
      <b class="Sy" title="Sy">enabled</b>, and never returns back to being
      <b class="Sy" title="Sy">enabled</b>.</dd>
  <dt><b class="Sy" title="Sy">userobj_accounting</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">org.zfsonlinux:userobj_accounting</b></dd>
      <dt>DEPENDENCIES</dt>
      <dd><b>extensible_dataset</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>yes</dd>
    </dl>
    <div class="Pp"></div>
    This feature allows administrators to account the object usage information
      by user and group.
    <div class="Pp"></div>
    <span class="No">This feature becomes</span>
      <b class="Sy" title="Sy">active</b> <span class="No">as soon as it is
      enabled and will never return to being</span>
      <b class="Sy" title="Sy">enabled</b>. <span class="No">Each filesystem
      will be upgraded automatically when remounted, or when a new file is
      created under that filesystem. The upgrade can also be triggered on
      filesystems via</span> <code class="Nm" title="Nm">zfs</code>
      <code class="Cm" title="Cm">set</code>
      <b class="Sy" title="Sy">version</b>=<b class="Sy" title="Sy">current</b>
      <var class="Ar" title="Ar">fs</var>. <span class="No">The upgrade process
      runs in the background and may take a while to complete for filesystems
      containing large amounts of files.</span></dd>
  <dt><b class="Sy" title="Sy">zpool_checkpoint</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">com.delphix:zpool_checkpoint</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>yes</dd>
    </dl>
    <div class="Pp"></div>
    This feature enables the <code class="Nm" title="Nm">zpool</code>
      <code class="Cm" title="Cm">checkpoint</code> command that can checkpoint
      the state of the pool at the time it was issued and later rewind back to
      it or discard it.
    <div class="Pp"></div>
    This feature becomes <b class="Sy" title="Sy">active</b> when the
      <code class="Nm" title="Nm">zpool</code>
      <code class="Cm" title="Cm">checkpoint</code> command is used to
      checkpoint the pool. The feature will only return back to being
      <b class="Sy" title="Sy">enabled</b> when the pool is rewound or the
      checkpoint has been discarded.</dd>
  <dt><b class="Sy" title="Sy">zstd_compress</b></dt>
  <dd>
    <dl class="Bl-tag Bl-compact">
      <dt>GUID</dt>
      <dd><b class="Sy" title="Sy">org.freebsd:zstd_compress</b></dd>
      <dt>DEPENDENCIES</dt>
      <dd><b>extensible_dataset</b></dd>
      <dt>READ-ONLY COMPATIBLE</dt>
      <dd>no</dd>
    </dl>
    <div class="Pp"></div>
    <b class="Sy" title="Sy">zstd</b> is a high-performance compression
      algorithm that features a combination of high compression ratios and high
      speed. Compared to <b class="Sy" title="Sy">gzip</b>,
      <b class="Sy" title="Sy">zstd</b> offers slightly better compression at
      much higher speeds. Compared to <b class="Sy" title="Sy">lz4</b>,
      <b class="Sy" title="Sy">zstd</b> offers much better compression while
      being only modestly slower. Typically, <b class="Sy" title="Sy">zstd</b>
      compression speed ranges from 250 to 500 MB/s per thread and decompression
      speed is over 1 GB/s per thread.
    <div class="Pp"></div>
    When the <b class="Sy" title="Sy">zstd</b> feature is set to
      <b class="Sy" title="Sy">enabled</b>, the administrator can turn on
      <b class="Sy" title="Sy">zstd</b> compression of any dataset using
      <code class="Nm" title="Nm">zfs</code>
      <code class="Cm" title="Cm">set</code>
      <b class="Sy" title="Sy">compress</b>=<b class="Sy" title="Sy">zstd</b>
      <var class="Ar" title="Ar">dset</var> (see
      <a href="../8/zfs-set.8.html" class="Xr">zfs-set(8)</a>). This feature becomes
      <b class="Sy" title="Sy">active</b> once a
      <b class="Sy" title="Sy">compress</b> property has been set to
      <b class="Sy" title="Sy">zstd</b>, and will return to being
      <b class="Sy" title="Sy">enabled</b> once all filesystems that have ever
      had their <b class="Sy" title="Sy">compress</b> property set to
      <b class="Sy" title="Sy">zstd</b> are destroyed.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a href="../8/zpool.8.html" class="Xr">zpool(8)</a></div>
<table class="foot">
  <tr>
    <td class="foot-date">May 31, 2021</td>
    <td class="foot-os">Debian</td>
  </tr>
</table>
</div></div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="zpoolconcepts.7.html" class="btn btn-neutral float-right" title="zpoolconcepts.7" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="zfsprops.7.html" class="btn btn-neutral float-left" title="zfsprops.7" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, OpenZFS.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>